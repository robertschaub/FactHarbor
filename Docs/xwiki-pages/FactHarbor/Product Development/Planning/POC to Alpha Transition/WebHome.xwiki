= POC to Alpha Transition =

== 1. POC1 Completion Scorecard ==

=== 1.1 Original Success Criteria (from POC1 Section 4) ===

|= Criterion |= Target |= Status |= Evidence |= Blocker?
| Processes diverse articles without crashes | Works | **MET** | Pipeline operational, SSE lifecycle management, retry with backoff | No
| Generates verdicts for all factual claims | Works | **MET** | 7-point verdict scale, per-claim and article verdicts | No
| Blocks non-factual claims (0% pass through) | 0% | **MET (different approach)** | Gate 1 uses LLM text analysis for factuality classification rather than rule-based opinion detection | No
| Blocks insufficient-evidence verdicts | 0% with <2 sources | **CODE-ENFORCED** | Gate 4 enforces minimum 2 sources (##quality-gates.ts##); central claims exempt | No
| Hallucination rate <10% | <10% | **UNKNOWN** | No baseline test run; 38 promptfoo test cases built but not executed | **YES**
| 0 opinions published as facts | 0% | **MET (different approach)** | LLM classifies input types at Gate 1; not rule-based | No
| Average quality score >=7.0/10 | >=7.0 | **UNKNOWN** | No baseline test run | **YES**
| Identified prompt improvements | Documented | **PARTIAL** | Prompt Optimization v2.8 completed and code-reviewed; not validated against baseline | No
| Validated threshold values | Validated | **PARTIAL** | Gate thresholds implemented; not validated against real data | Soft
| Clear path to POC2 | Defined | **MET** | POC2 spec complete | No

=== 1.2 Functional Requirements Status ===

|= FR |= Title |= Original POC1 Scope |= Status |= Notes
| FR1 | Claim Intake | In scope | **COMPLETE** | URL + text + PDF input, format validation
| FR2 | Claim Normalization | Implicit | **COMPLETE** | Input neutrality (question == statement within +/-5%)
| FR3 | Claim Classification | Gate 1 | **COMPLETE** | LLM text analysis classifies claim types
| FR4 | Analysis Summary | In scope | **COMPLETE+** | Two-panel summary, multi-context, article verdict
| FR5 | Evidence Linking | In scope | **COMPLETE+** | Web search, source extraction, provenance validation, probative value scoring
| FR6 | Scenario Comparison | Deferred | **EVOLVED** | Now uses AnalysisContext multi-context detection (more sophisticated)
| FR7 | Automated Verdicts | In scope | **COMPLETE+** | 7-point scale, dependency tracking, contestation, harm potential
| FR12 | Two-Panel Summary | In scope | **COMPLETE** | Summary + analysis panels in UI
| NFR11 | Quality Gates | Gates 1+4 | **COMPLETE** | Gate 1 (Claim Validation) + Gate 4 (Verdict Confidence)
| NFR14 | LLM Abstraction | In scope | **COMPLETE+** | 4 providers via Vercel AI SDK with model tiering

=== 1.3 Non-Functional Requirements Status ===

|= NFR |= Title |= Status |= Notes
| Performance | Processing time | **MET** | 30s-15min depending on article complexity
| Scalability | Single-instance | **BASIC** | Sufficient for POC; scaling needs PostgreSQL + Redis
| Transparency | Evidence + reasoning visible | **MET** | Sources cited, reasoning shown, source reliability scores
| Quality | Quality gates enforced | **MET** | Gate 1 + Gate 4 operational

== 2. Beyond-POC Features Already Implemented ==

Development has significantly exceeded the original POC1 scope. Many features originally planned for POC2, Beta 0, or V1.0 are already operational.

=== 2.1 Features Originally Planned for POC2 ===

|= Feature |= POC2 Spec Reference |= Current Status
| Multi-provider LLM | NFR14 enhancement | **COMPLETE** — Anthropic, OpenAI, Google, Mistral via Vercel AI SDK
| Source Reliability Scoring | Part of evidence quality | **COMPLETE** — LLM evaluation + multi-model consensus + in-memory cache
| Evidence Quality Filtering | Part of quality framework | **COMPLETE** — 7-layer defense with probativeValue, sourceType classification
| Context-Aware Analysis | Conditional on POC1 experiments | **COMPLETE** — AnalysisContext detection is standard feature, not experimental
| Quality Metrics Dashboard | NFR13 | **BUILT** — At ##/admin/metrics##, but no data (metrics not integrated)
| LLM Text Analysis Pipeline | Part of quality framework | **COMPLETE** — 4 analysis points: input classification, evidence quality, context similarity, verdict validation

=== 2.2 Features Originally Planned for Beta 0 / V1.0 ===

|= Feature |= Original Phase |= Current Status
| A/B Testing Framework | V1.0 | **BUILT** — Framework + 38 promptfoo test cases (not executed)
| API Endpoints | V1.0 (UN-14) | **COMPLETE** — ASP.NET Core 8.0 with 6 controllers
| Admin Dashboard | Beta 0 | **COMPLETE** — Config management, quality, metrics
| Unified Config Management | Future | **COMPLETE** — All 4 phases: DB-backed config, hot-reload, snapshots, admin UI
| Job Config Snapshots | Future | **COMPLETE** — Full auditability per job

=== 2.3 Implication ===

{{warning}}
**Continuing to call this "POC1" understates what has been built.** The phase boundaries defined in V0.9.70 are meaningless against v2.10.2 reality. Documentation says "deferred to POC2" for features that are already implemented and operational. This creates confusion in every document that references the original roadmap.
{{/warning}}

== 3. What Remains to Declare "POC Complete"? ==

=== 3.1 CRITICAL: Baseline Quality Validation (BLOCKER) ===

The single most important gap is: **no empirical quality measurement has ever been performed.**

|= Item |= What's Needed |= Status
| Run promptfoo test suite | Execute 38 existing test cases against current prompts | **READY — not executed**
| Run baseline article analysis | Analyze ~30 diverse test articles (test set exists) | **READY — not executed**
| Measure hallucination rate | Manual review of baseline results | Depends on above
| Document results | Write baseline quality report | Depends on above

**Why this is the blocker**: POC1 success criteria explicitly require ##hallucination rate <10%## and ##average quality score >=7.0##. Without measuring these, we cannot claim POC1 is "successful." All the features may be built, but we don't know if they produce good results.

=== 3.2 SHOULD: Metrics Integration ===

|= Item |= What's Needed
| Connect metrics to analyzer | Add hooks in ##orchestrated.ts## using existing ##metrics-integration.ts## helpers
| Verify dashboard shows data | Run one analysis and check ##/admin/metrics##

This enables continuous quality tracking going forward. Without it, every quality claim is based on manual spot-checking.

=== 3.3 NOT Required for POC Completion ===

These items are explicitly **not needed** to declare POC complete:

|= Feature |= Why Not Required |= When
| User accounts / authentication | Beta feature | Beta
| Browse/search interface | Beta feature | Beta
| User flagging system | Beta feature | Beta
| Security hardening | Local POC only | Before any public deployment
| Gates 2 & 3 | POC2 features; may not be needed in original form | Reassess after baseline
| Evidence deduplication (FR54) | POC2 feature | Reassess after usage patterns
| Normalized database schema | Not needed for JSON blob storage | When PostgreSQL migration happens
| Unit/integration tests | Would be nice, but POC is about proving AI quality | Alpha/Beta

== 4. Phase Redefinition ==

=== 4.1 The Problem ===

The current roadmap was defined at V0.9.70 when:

* The project was a simple single-prompt analyzer
* No LLM abstraction existed
* No config management existed
* No source reliability existed
* Quality gates were planned but not implemented
* "Scenarios" were the core analytical concept

Now at v2.10.2:

* Multi-step orchestrated pipeline with 7 phases
* Multi-provider LLM with model tiering
* Full config management with hot-reload
* LLM-based source reliability with multi-model consensus
* Quality gates implemented and code-enforced
* AnalysisContexts + KeyFactors (bounded analytical frames with decomposition questions)

**The original phase boundaries (POC1 -> POC2 -> Beta 0 -> V1.0) are meaningless.**

=== 4.2 DECIDED: Compress POC2 into Alpha ===

{{info}}
**Decision**: Skip the original POC2 specification. Run baseline test, declare POC done, transition directly to Alpha. Cherry-pick remaining POC2 goals based on empirical data.
{{/info}}

**Rationale**:

* Honest about where the project actually is
* Data-driven decisions on remaining work
* Avoids implementing obsolete features (Gate 3 references "Scenarios" which are replaced)
* Matches terminology the industry expects
* Original POC2 spec was designed for a simpler system that no longer exists

**What "Alpha" means**:

* System works end-to-end
* Quality is measured and tracked
* Features may still change
* Not production-hardened
* No user-facing stability guarantees
* Security not yet hardened

=== 4.3 Minimum Steps to Enter Alpha ===

1. **RUN baseline quality test** — **BLOCKER**
1. **INTEGRATE metrics collection** — SHOULD
1. **DOCUMENT baseline results** — SHOULD
1. **UPDATE roadmap pages** in xWiki to reflect new phase definitions — SHOULD
1. **ARCHIVE outdated POC documentation** or add status warnings — NICE-TO-HAVE

=== 4.4 What Changes Between "POC" and "Alpha" ===

|= Aspect |= POC (Current) |= Alpha (Proposed)
| Quality | Unknown baseline | Measured, tracked, targets set
| Caching | None beyond SR | Claim + URL caching (see [[Storage Architecture>>FactHarbor.Product Development.Diagrams.Storage Architecture.WebHome]])
| Testing | Manual only | Promptfoo + baseline + metrics
| Config | Hot-reload ready | Validated in production-like conditions
| Phase label | "POC1 v2.10.2" | "Alpha 0.1"
| Documentation | Outdated POC specs | Updated to reflect actual state

== 5. Revised POC2 Assessment ==

=== 5.1 Original POC2 Goals vs Current State ===

|= POC2 Goal |= Status |= Still Needed? |= Recommendation
| **Gate 2: Evidence Relevance** | NOT IMPLEMENTED | MAYBE | Reassess after baseline — may be handled by existing probativeValue filtering
| **Gate 3: Scenario Coherence** | NOT IMPLEMENTED | PROBABLY NOT | Now uses AnalysisContexts with overlap detection already built in.
| **Evidence Deduplication (FR54)** | NOT IMPLEMENTED | YES (eventually) | Defer to Beta — needs normalized DB schema (PostgreSQL)
| **Quality Metrics Dashboard (NFR13)** | BUILT (not integrated) | YES | Integrate metrics now (15-30 min); dashboard already exists
| **Context-Aware Analysis** | COMPLETE | No | Standard feature since v2.6.40+
| **<5% hallucination rate** | UNKNOWN | YES — as a target | Measure first, then improve if needed

=== 5.2 Recommendation ===

{{warning}}
**Do NOT pursue the original POC2 specification as written.** It was designed for a simpler system that no longer exists.
{{/warning}}

Instead:

1. Run baseline test to establish quality metrics
1. Based on data, decide which quality improvements matter most
1. Gate 2 (Evidence Relevance) — may be partially covered by probativeValue scoring; validate empirically
1. Gate 3 (Scenario Coherence) — obsolete as written; AnalysisContext overlap detection serves a similar purpose
1. Evidence deduplication — valuable but needs PostgreSQL; defer to Beta

== 6. Agreed Roadmap ==

=== Previous Roadmap (Superseded) ===

{{code}}
POC1 (Specification Complete) -> POC2 (Quality & Reliability) -> Beta 0 (User Testing) -> V1.0
{{/code}}

=== Current Roadmap ===

{{include reference="FactHarbor.Product Development.Diagrams.Development Roadmap.WebHome"/}}

**POC Complete** (after baseline test): Run baseline quality test, integrate metrics, document results.

**Alpha** (quality measurement + optimization):

|= Milestone |= Focus |= Dependencies
| **Alpha 0.1** | Baseline test + metrics integration | LLM API costs
| **Alpha 0.2** | URL cache + claim cache | None
| **Alpha 0.3** | Quality improvements based on baseline | Alpha 0.1 results
| **Alpha 0.4** | Parallel verdicts + tiered LLM routing | Code already built, needs integration
| **Alpha 0.5** | Security assessment + hardening plan | None

**Beta** (user testing with real users): PostgreSQL migration + normalized schema, user accounts / authentication, browse/search interface, evidence deduplication (FR54), user flagging system.

**V1.0** (public launch): Production-hardened, scaled infrastructure, continuous quality improvement.

== 7. Decision Summary ==

|= Decision |= Status |= Outcome |= Urgency
| **Run baseline test** | AGREED | **YES** — single blocker for POC completion | HIGH
| **Integrate metrics** | AGREED | **YES** — low effort | HIGH
| **Phase redefinition** | AGREED | **Skip to Alpha** — POC2 spec is superseded | HIGH
| **Roadmap** | AGREED | POC -> Alpha -> Beta -> V1.0 (see Section 6) | HIGH
| **Gates 2 & 3** | AGREED | **After baseline** — may not be needed | MEDIUM
| **Evidence dedup (FR54)** | AGREED | **Defer to Beta** — needs PostgreSQL | LOW
| **Update xWiki roadmap** | NEXT | Update after baseline test completes | MEDIUM

{{info}}
All decisions are agreed. Next steps: (1) Run baseline quality test, (2) Integrate metrics, (3) Document baseline results, (4) Update xWiki roadmap pages to reflect POC -> Alpha -> Beta -> V1.0.
{{/info}}

== Related Pages ==

* [[Storage Architecture>>FactHarbor.Product Development.Diagrams.Storage Architecture.WebHome]] — Database and caching decisions (Alpha milestone 0.2)
* [[POC1>>FactHarbor.Product Development.Planning.POC1.WebHome]] — Original POC1 goals and current implementation status
* [[POC2>>FactHarbor.Product Development.Planning.POC2.WebHome]] — Original POC2 goals (superseded by this document)
* [[Roadmap Overview>>FactHarbor.Product Development.Planning.WebHome]] — Implementation roadmap
* [[Architecture>>FactHarbor.Product Development.Specification.Architecture.WebHome]] — System architecture

**Document Status:** APPROVED (February 2026)
**Next Steps:**
1. Run baseline quality test (Alpha 0.1 gate)
1. Integrate metrics
1. Document baseline results
1. Update xWiki roadmap pages to reflect POC -> Alpha -> Beta -> V1.0
