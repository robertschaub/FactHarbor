{
  "evalId": "eval-X0X-2026-01-26T06:23:07",
  "results": {
    "version": 3,
    "timestamp": "2026-01-26T06:23:07.838Z",
    "prompts": [
      {
        "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
        "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
        "id": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "provider": "Claude Haiku",
        "metrics": {
          "score": 4.333333333333333,
          "testPassCount": 3,
          "testFailCount": 2,
          "testErrorCount": 0,
          "assertPassCount": 12,
          "assertFailCount": 2,
          "totalLatencyMs": 82,
          "tokenUsage": {
            "prompt": 0,
            "completion": 0,
            "cached": 4236,
            "total": 4236,
            "numRequests": 5,
            "completionDetails": {
              "reasoning": 0,
              "acceptedPrediction": 0,
              "rejectedPrediction": 0
            },
            "assertions": {
              "total": 0,
              "prompt": 0,
              "completion": 0,
              "cached": 0,
              "numRequests": 0,
              "completionDetails": {
                "reasoning": 0,
                "acceptedPrediction": 0,
                "rejectedPrediction": 0
              }
            }
          },
          "namedScores": {
            "verdict_accuracy": 4
          },
          "namedScoresCount": {
            "verdict_accuracy": 5
          },
          "cost": 0.0071904
        }
      },
      {
        "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
        "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
        "id": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "provider": "Claude Sonnet",
        "metrics": {
          "score": 1,
          "testPassCount": 0,
          "testFailCount": 5,
          "testErrorCount": 0,
          "assertPassCount": 3,
          "assertFailCount": 11,
          "totalLatencyMs": 97,
          "tokenUsage": {
            "prompt": 0,
            "completion": 0,
            "cached": 4515,
            "total": 4515,
            "numRequests": 5,
            "completionDetails": {
              "reasoning": 0,
              "acceptedPrediction": 0,
              "rejectedPrediction": 0
            },
            "assertions": {
              "total": 0,
              "prompt": 0,
              "completion": 0,
              "cached": 0,
              "numRequests": 0,
              "completionDetails": {
                "reasoning": 0,
                "acceptedPrediction": 0,
                "rejectedPrediction": 0
              }
            }
          },
          "namedScores": {
            "verdict_accuracy": 0
          },
          "namedScoresCount": {
            "verdict_accuracy": 5
          },
          "cost": 0.031149
        }
      },
      {
        "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
        "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
        "id": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "provider": "GPT-4o Mini",
        "metrics": {
          "score": 5,
          "testPassCount": 5,
          "testFailCount": 0,
          "testErrorCount": 0,
          "assertPassCount": 14,
          "assertFailCount": 0,
          "totalLatencyMs": 22235,
          "tokenUsage": {
            "prompt": 0,
            "completion": 0,
            "cached": 4084,
            "total": 4084,
            "numRequests": 5,
            "completionDetails": {
              "reasoning": 0,
              "acceptedPrediction": 0,
              "rejectedPrediction": 0
            },
            "assertions": {
              "total": 0,
              "prompt": 0,
              "completion": 0,
              "cached": 0,
              "numRequests": 0,
              "completionDetails": {
                "reasoning": 0,
                "acceptedPrediction": 0,
                "rejectedPrediction": 0
              }
            }
          },
          "namedScores": {
            "verdict_accuracy": 5
          },
          "namedScoresCount": {
            "verdict_accuracy": 5
          },
          "cost": 0.001158
        }
      },
      {
        "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
        "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
        "id": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "provider": "GPT-4o",
        "metrics": {
          "score": 1.6666666666666665,
          "testPassCount": 0,
          "testFailCount": 5,
          "testErrorCount": 0,
          "assertPassCount": 5,
          "assertFailCount": 9,
          "totalLatencyMs": 18368,
          "tokenUsage": {
            "prompt": 0,
            "completion": 0,
            "cached": 4295,
            "total": 4295,
            "numRequests": 5,
            "completionDetails": {
              "reasoning": 0,
              "acceptedPrediction": 0,
              "rejectedPrediction": 0
            },
            "assertions": {
              "total": 0,
              "prompt": 0,
              "completion": 0,
              "cached": 0,
              "numRequests": 0,
              "completionDetails": {
                "reasoning": 0,
                "acceptedPrediction": 0,
                "rejectedPrediction": 0
              }
            }
          },
          "namedScores": {
            "verdict_accuracy": 1
          },
          "namedScoresCount": {
            "verdict_accuracy": 5
          },
          "cost": 0.021410000000000005
        }
      }
    ],
    "results": [
      {
        "cost": 0.0054269999999999995,
        "error": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
        "gradingResult": {
          "pass": false,
          "score": 0.3333333333333333,
          "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to be valid JSON",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_supported"
              }
            }
          ]
        },
        "id": "35046440-9cdf-459b-9ec8-d777679fa951",
        "latencyMs": 31,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"The Earth is approximately 4.5 billion years old\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 1,
        "provider": {
          "id": "anthropic:claude-sonnet-4-20250514",
          "label": "Claude Sonnet"
        },
        "response": {
          "output": "```json\n{\n\"answer\": 92,\n\"ratingConfirmation\": \"claim_supported\",\n\"shortAnswer\": \"The claim is strongly supported by scientific consensus and multiple independent dating methods that confirm Earth's age at approximately 4.54 billion years.\",\n\"reasoning\": \"The evidence shows overwhelming scientific support for Earth being approximately 4.5 billion years old, with precise measurements indicating 4.54 billion years. Multiple independent radiometric dating methods converge on this age estimate, providing robust confirmation with no credible counter-evidence presented.\",\n\"keyFactors\": [\n{\n\"factor\": \"Scientific consensus on radiometric dating\",\n\"supports\": \"yes\",\n\"explanation\": \"Established scientific consensus based on radiometric dating of meteorites and Earth rocks confirms the 4.54 billion year age\"\n},\n{\n\"factor\": \"Multiple independent dating methods\",\n\"supports\": \"yes\", \n\"explanation\": \"Uranium-lead and potassium-argon dating methods independently converge on the same age estimate, strengthening reliability\"\n}\n]\n}\n```",
          "tokenUsage": {
            "cached": 841,
            "total": 841
          },
          "finishReason": "stop",
          "cost": 0.0054269999999999995,
          "cached": true
        },
        "score": 0.3333333333333333,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "The Earth is approximately 4.5 billion years old",
            "evidence": "[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_supported"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 0,
        "vars": {
          "claim": "The Earth is approximately 4.5 billion years old",
          "evidence": "[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0032025000000000005,
        "error": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
        "gradingResult": {
          "pass": false,
          "score": 0.3333333333333333,
          "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to be valid JSON",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_supported"
              }
            }
          ]
        },
        "id": "13ed9de1-8c75-4c8d-a885-f58663e09a0c",
        "latencyMs": 2307,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"The Earth is approximately 4.5 billion years old\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 3,
        "provider": {
          "id": "openai:gpt-4o",
          "label": "GPT-4o"
        },
        "response": {
          "output": "```json\n{\n  \"answer\": 90,\n  \"ratingConfirmation\": \"claim_supported\",\n  \"shortAnswer\": \"The claim is true based on scientific consensus.\",\n  \"reasoning\": \"Scientific consensus, supported by multiple independent radiometric dating methods, estimates the Earth's age at approximately 4.54 billion years. No credible scientific evidence contradicts this well-established understanding.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"Scientific consensus\",\n      \"supports\": \"yes\",\n      \"explanation\": \"There is a strong agreement in the scientific community about Earth's age being around 4.54 billion years.\"\n    },\n    {\n      \"factor\": \"Radiometric dating methods\",\n      \"supports\": \"yes\",\n      \"explanation\": \"Methods such as uranium-lead and potassium-argon dating converge on the age estimate of Earth's formation.\"\n    }\n  ]\n}\n```",
          "tokenUsage": {
            "cached": 741,
            "total": 741
          },
          "cached": true,
          "latencyMs": 2307,
          "finishReason": "stop",
          "cost": 0.0032025000000000005,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 0.3333333333333333,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "The Earth is approximately 4.5 billion years old",
            "evidence": "[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_supported"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 0,
        "vars": {
          "claim": "The Earth is approximately 4.5 billion years old",
          "evidence": "[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0013672,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_supported"
              }
            }
          ]
        },
        "id": "3766d3ec-b058-4870-9e76-82e0db3b3cb3",
        "latencyMs": 27,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"The Earth is approximately 4.5 billion years old\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 0,
        "provider": {
          "id": "anthropic:claude-3-5-haiku-20241022",
          "label": "Claude Haiku"
        },
        "response": {
          "output": "{\n\"answer\": 95,\n\"ratingConfirmation\": \"claim_supported\",\n\"shortAnswer\": \"Scientific evidence strongly confirms Earth's age at approximately 4.5 billion years.\",\n\"reasoning\": \"Multiple independent radiometric dating techniques consistently demonstrate Earth's age around 4.54 billion years. The scientific consensus is robust, based on precise measurements of meteorites and terrestrial rock samples.\",\n\"keyFactors\": [\n{\n\"factor\": \"Radiometric Dating\",\n\"supports\": \"yes\",\n\"explanation\": \"Uranium-lead and potassium-argon methods provide consistent age estimates\"\n},\n{\n\"factor\": \"Scientific Consensus\",\n\"supports\": \"yes\", \n\"explanation\": \"Geologists and planetary scientists universally accept this age estimate\"\n},\n{\n\"factor\": \"Multiple Independent Methods\",\n\"supports\": \"yes\",\n\"explanation\": \"Convergence of different dating techniques increases reliability of the estimate\"\n}\n]\n}",
          "tokenUsage": {
            "cached": 821,
            "total": 821
          },
          "finishReason": "stop",
          "cost": 0.0013672,
          "cached": true
        },
        "score": 1,
        "success": true,
        "testCase": {
          "vars": {
            "claim": "The Earth is approximately 4.5 billion years old",
            "evidence": "[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_supported"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 0,
        "vars": {
          "claim": "The Earth is approximately 4.5 billion years old",
          "evidence": "[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0.00019755,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_supported"
              }
            }
          ]
        },
        "id": "abf626b5-432c-45b5-82ff-788697ad94c6",
        "latencyMs": 3613,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"The Earth is approximately 4.5 billion years old\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 2,
        "provider": {
          "id": "openai:gpt-4o-mini",
          "label": "GPT-4o Mini"
        },
        "response": {
          "output": "{\n  \"answer\": 95,\n  \"ratingConfirmation\": \"claim_supported\",\n  \"shortAnswer\": \"The claim that the Earth is approximately 4.5 billion years old is true.\",\n  \"reasoning\": \"Scientific consensus and multiple independent dating methods provide strong evidence supporting the claim. The age of 4.54 billion years is well-established through radiometric dating techniques, and no credible counter-evidence exists to dispute this estimate.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"Scientific Consensus\",\n      \"supports\": \"yes\",\n      \"explanation\": \"The scientific consensus agrees on the age of Earth being around 4.54 billion years based on extensive research.\"\n    },\n    {\n      \"factor\": \"Dating Methods\",\n      \"supports\": \"yes\",\n      \"explanation\": \"Various independent dating techniques have converged on this age, reinforcing the reliability of the estimate.\"\n    }\n  ]\n}",
          "tokenUsage": {
            "cached": 750,
            "total": 750
          },
          "cached": true,
          "latencyMs": 3613,
          "finishReason": "stop",
          "cost": 0.00019755,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "vars": {
            "claim": "The Earth is approximately 4.5 billion years old",
            "evidence": "[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_supported"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 0,
        "vars": {
          "claim": "The Earth is approximately 4.5 billion years old",
          "evidence": "[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0.006576,
        "error": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
        "gradingResult": {
          "pass": false,
          "score": 0.3333333333333333,
          "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to be valid JSON",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_refuted"
              }
            }
          ]
        },
        "id": "f1c14e5c-cf68-4bdf-a27b-a97bdb50f815",
        "latencyMs": 26,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Hydrogen cars are more efficient than electric cars\"\n\n## EVIDENCE PROVIDED\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 1,
        "provider": {
          "id": "anthropic:claude-sonnet-4-20250514",
          "label": "Claude Sonnet"
        },
        "response": {
          "output": "```json\n{\n\"answer\": 25,\n\"ratingConfirmation\": \"claim_refuted\",\n\"shortAnswer\": \"Hydrogen cars are significantly less efficient than electric cars, with well-to-wheel efficiency of 25-35% compared to 70-90% for electric vehicles.\",\n\"reasoning\": \"The evidence strongly contradicts the claim, showing that electric vehicles achieve 70-90% well-to-wheel efficiency while hydrogen fuel cell vehicles only achieve 25-35%. Although hydrogen fuel cells can reach 60% tank-to-wheel efficiency, this doesn't account for the substantial energy losses in hydrogen production, compression, and distribution that make the overall system much less efficient than battery electric vehicles.\",\n\"keyFactors\": [\n{\n\"factor\": \"Well-to-wheel efficiency comparison\",\n\"supports\": \"no\",\n\"explanation\": \"Electric vehicles (70-90%) significantly outperform hydrogen vehicles (25-35%) in overall efficiency\"\n},\n{\n\"factor\": \"Energy losses in hydrogen system\",\n\"supports\": \"no\",\n\"explanation\": \"Hydrogen production, compression, and fuel cell conversion create substantial energy losses\"\n},\n{\n\"factor\": \"Tank-to-wheel fuel cell efficiency\",\n\"supports\": \"yes\",\n\"explanation\": \"Fuel cells can achieve 60% efficiency from tank to wheel, but this doesn't include upstream losses\"\n}\n]\n}\n```",
          "tokenUsage": {
            "cached": 936,
            "total": 936
          },
          "finishReason": "stop",
          "cost": 0.006576,
          "cached": true
        },
        "score": 0.3333333333333333,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "Hydrogen cars are more efficient than electric cars",
            "evidence": "[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_refuted"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 1,
        "vars": {
          "claim": "Hydrogen cars are more efficient than electric cars",
          "evidence": "[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0046075000000000005,
        "error": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
        "gradingResult": {
          "pass": false,
          "score": 0.3333333333333333,
          "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to be valid JSON",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_refuted"
              }
            }
          ]
        },
        "id": "4b357c17-d005-48b5-87eb-877ae7d4b090",
        "latencyMs": 3571,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Hydrogen cars are more efficient than electric cars\"\n\n## EVIDENCE PROVIDED\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 3,
        "provider": {
          "id": "openai:gpt-4o",
          "label": "GPT-4o"
        },
        "response": {
          "output": "```json\n{\n  \"answer\": 10,\n  \"ratingConfirmation\": \"claim_refuted\",\n  \"shortAnswer\": \"The claim is FALSE, as hydrogen cars are less efficient than electric cars.\",\n  \"reasoning\": \"The well-to-wheel efficiency of hydrogen fuel cell vehicles is significantly lower than that of battery electric vehicles. While the tank-to-wheel efficiency for hydrogen can be high, the overall process of producing, compressing, and converting hydrogen results in greater energy losses compared to electric cars.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"Well-to-wheel efficiency of hydrogen\",\n      \"supports\": \"no\",\n      \"explanation\": \"Hydrogen fuel cell vehicles have a well-to-wheel efficiency of 25-35%, which is lower than electric vehicles.\"\n    },\n    {\n      \"factor\": \"Well-to-wheel efficiency of electric vehicles\",\n      \"supports\": \"no\",\n      \"explanation\": \"Electric vehicles have a well-to-wheel efficiency of 70-90%, showing they are more efficient overall.\"\n    },\n    {\n      \"factor\": \"Tank-to-wheel efficiency of hydrogen\",\n      \"supports\": \"yes\",\n      \"explanation\": \"Hydrogen fuel cells can achieve a tank-to-wheel efficiency of 60%, but this does not account for the entire energy process.\"\n    },\n    {\n      \"factor\": \"Energy losses in hydrogen processing\",\n      \"supports\": \"no\",\n      \"explanation\": \"The production, compression, and conversion of hydrogen lead to significant energy inefficiencies.\"\n    }\n  ]\n}\n```",
          "tokenUsage": {
            "cached": 898,
            "total": 898
          },
          "cached": true,
          "latencyMs": 3571,
          "finishReason": "stop",
          "cost": 0.0046075000000000005,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 0.3333333333333333,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "Hydrogen cars are more efficient than electric cars",
            "evidence": "[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_refuted"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 1,
        "vars": {
          "claim": "Hydrogen cars are more efficient than electric cars",
          "evidence": "[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0014536,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_refuted"
              }
            }
          ]
        },
        "id": "9fa59b87-bbb4-4439-99d2-c99a623ea36d",
        "latencyMs": 22,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Hydrogen cars are more efficient than electric cars\"\n\n## EVIDENCE PROVIDED\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 0,
        "provider": {
          "id": "anthropic:claude-3-5-haiku-20241022",
          "label": "Claude Haiku"
        },
        "response": {
          "output": "{\n\"answer\": 25,\n\"ratingConfirmation\": \"claim_refuted\",\n\"shortAnswer\": \"Hydrogen cars are significantly less efficient than electric cars.\",\n\"reasoning\": \"The well-to-wheel efficiency of hydrogen fuel cell vehicles (25-35%) is substantially lower than battery electric vehicles (70-90%). Multiple pieces of evidence highlight significant energy losses in hydrogen production and conversion processes.\",\n\"keyFactors\": [\n{\n\"factor\": \"Well-to-wheel efficiency\",\n\"supports\": \"no\",\n\"explanation\": \"Hydrogen vehicles have much lower overall energy efficiency compared to battery electric vehicles\"\n},\n{\n\"factor\": \"Energy conversion losses\",\n\"supports\": \"no\", \n\"explanation\": \"Hydrogen production, compression, and fuel cell conversion involve substantial energy losses\"\n},\n{\n\"factor\": \"Tank-to-wheel efficiency\",\n\"supports\": \"neutral\",\n\"explanation\": \"While fuel cells can reach 60% efficiency at the vehicle level, this doesn't offset the overall system inefficiencies\"\n}\n]\n}",
          "tokenUsage": {
            "cached": 861,
            "total": 861
          },
          "finishReason": "stop",
          "cost": 0.0014536,
          "cached": true
        },
        "score": 1,
        "success": true,
        "testCase": {
          "vars": {
            "claim": "Hydrogen cars are more efficient than electric cars",
            "evidence": "[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_refuted"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 1,
        "vars": {
          "claim": "Hydrogen cars are more efficient than electric cars",
          "evidence": "[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0.00021945,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_refuted"
              }
            }
          ]
        },
        "id": "21108a9c-34ca-48ea-88f7-ed9450fedd32",
        "latencyMs": 4290,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Hydrogen cars are more efficient than electric cars\"\n\n## EVIDENCE PROVIDED\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 2,
        "provider": {
          "id": "openai:gpt-4o-mini",
          "label": "GPT-4o Mini"
        },
        "response": {
          "output": "{\n  \"answer\": 25,\n  \"ratingConfirmation\": \"claim_refuted\",\n  \"shortAnswer\": \"Hydrogen cars are less efficient than electric cars.\",\n  \"reasoning\": \"The well-to-wheel efficiency of hydrogen fuel cell vehicles is significantly lower than that of battery electric vehicles, ranging from 25-35% compared to 70-90%. Although hydrogen fuel cells have a tank-to-wheel efficiency that can reach 60%, the energy losses in the processes of hydrogen production, compression, and conversion severely diminish their overall efficiency relative to electric vehicles.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"Well-to-Wheel Efficiency\",\n      \"supports\": \"no\",\n      \"explanation\": \"Hydrogen fuel cell vehicles have a much lower well-to-wheel efficiency than battery electric vehicles.\"\n    },\n    {\n      \"factor\": \"Tank-to-Wheel Efficiency\",\n      \"supports\": \"no\",\n      \"explanation\": \"While fuel cells may reach higher tank-to-wheel efficiency, the overall energy losses from production and conversion outweigh this advantage.\"\n    }\n  ]\n}",
          "tokenUsage": {
            "cached": 803,
            "total": 803
          },
          "cached": true,
          "latencyMs": 4290,
          "finishReason": "stop",
          "cost": 0.00021945,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "vars": {
            "claim": "Hydrogen cars are more efficient than electric cars",
            "evidence": "[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_refuted"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 1,
        "vars": {
          "claim": "Hydrogen cars are more efficient than electric cars",
          "evidence": "[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0.006726,
        "error": "Expected output to contain \"mixed\"",
        "gradingResult": {
          "pass": false,
          "score": 0,
          "reason": "Expected output to contain \"mixed\"",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to be valid JSON",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to contain \"mixed\"",
              "assertion": {
                "type": "contains",
                "value": "mixed"
              }
            }
          ]
        },
        "id": "a8d953d4-a906-4f62-ac02-7b30369d9596",
        "latencyMs": 13,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Remote work increases productivity\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 1,
        "provider": {
          "id": "anthropic:claude-sonnet-4-20250514",
          "label": "Claude Sonnet"
        },
        "response": {
          "output": "```json\n{\n\"answer\": 65,\n\"ratingConfirmation\": \"claim_supported\",\n\"shortAnswer\": \"Remote work does increase productivity overall, though with notable limitations in collaboration and work-life balance.\",\n\"reasoning\": \"The evidence shows more support than contradiction for increased productivity, with a concrete 13% increase documented in a recent Stanford study and additional productivity gains from reduced commute time. However, counter-evidence regarding decreased collaboration and work-life boundary issues, plus significant industry variation, prevents a higher rating.\",\n\"keyFactors\": [\n{\n\"factor\": \"Measured productivity gains\",\n\"supports\": \"yes\",\n\"explanation\": \"Stanford study shows quantifiable 13% productivity increase for remote workers\"\n},\n{\n\"factor\": \"Time efficiency\",\n\"supports\": \"yes\",\n\"explanation\": \"Eliminated commute time allows workers to dedicate more hours to productive work\"\n},\n{\n\"factor\": \"Collaboration quality\",\n\"supports\": \"no\",\n\"explanation\": \"Microsoft study indicates decreased collaboration and innovation in remote settings\"\n},\n{\n\"factor\": \"Work-life balance challenges\",\n\"supports\": \"no\",\n\"explanation\": \"Difficulty separating work and personal life can negatively impact overall effectiveness\"\n},\n{\n\"factor\": \"Industry variation\",\n\"supports\": \"neutral\",\n\"explanation\": \"Effects vary significantly across different industries and job types, limiting universal applicability\"\n}\n]\n}\n```",
          "tokenUsage": {
            "cached": 938,
            "total": 938
          },
          "finishReason": "stop",
          "cost": 0.006726,
          "cached": true
        },
        "score": 0,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "Remote work increases productivity",
            "evidence": "[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "mixed"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 2,
        "vars": {
          "claim": "Remote work increases productivity",
          "evidence": "[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0014816,
        "error": "Expected output to contain \"mixed\"",
        "gradingResult": {
          "pass": false,
          "score": 0.6666666666666666,
          "reason": "Expected output to contain \"mixed\"",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to contain \"mixed\"",
              "assertion": {
                "type": "contains",
                "value": "mixed"
              }
            }
          ]
        },
        "id": "05553552-3a36-4f6c-9408-84698f5e84ed",
        "latencyMs": 10,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Remote work increases productivity\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 0,
        "provider": {
          "id": "anthropic:claude-3-5-haiku-20241022",
          "label": "Claude Haiku"
        },
        "response": {
          "output": "{\n\"answer\": 62,\n\"ratingConfirmation\": \"claim_supported\",\n\"shortAnswer\": \"Remote work shows moderate productivity benefits with nuanced implementation considerations.\",\n\"reasoning\": \"The Stanford study provides strong evidence of productivity gains, while acknowledging that remote work's effectiveness varies across different work environments and job types. The Microsoft study highlights potential collaboration challenges that must be managed strategically.\",\n\"keyFactors\": [\n{\n\"factor\": \"Productivity Increase\",\n\"supports\": \"yes\",\n\"explanation\": \"Stanford study documented 13% productivity improvement for remote workers\"\n},\n{\n\"factor\": \"Commute Time Reduction\",\n\"supports\": \"yes\", \n\"explanation\": \"Eliminated commute allows more focused work time\"\n},\n{\n\"factor\": \"Collaboration Challenges\",\n\"supports\": \"no\",\n\"explanation\": \"Microsoft study indicates potential innovation and teamwork limitations\"\n},\n{\n\"factor\": \"Work-Life Boundaries\",\n\"supports\": \"neutral\",\n\"explanation\": \"Individual experiences vary in managing remote work integration\"\n}\n]\n}",
          "tokenUsage": {
            "cached": 860,
            "total": 860
          },
          "finishReason": "stop",
          "cost": 0.0014816,
          "cached": true
        },
        "score": 0.6666666666666666,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "Remote work increases productivity",
            "evidence": "[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "mixed"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 2,
        "vars": {
          "claim": "Remote work increases productivity",
          "evidence": "[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.00451,
        "error": "Expected output to contain \"mixed\"",
        "gradingResult": {
          "pass": false,
          "score": 0.6666666666666666,
          "reason": "Expected output to contain \"mixed\"",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to contain \"mixed\"",
              "assertion": {
                "type": "contains",
                "value": "mixed"
              }
            }
          ]
        },
        "id": "4cf4af71-9b52-404d-9ba8-e8052f611547",
        "latencyMs": 3501,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Remote work increases productivity\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 3,
        "provider": {
          "id": "openai:gpt-4o",
          "label": "GPT-4o"
        },
        "response": {
          "output": "{\n  \"answer\": 64,\n  \"ratingConfirmation\": \"claim_supported\",\n  \"shortAnswer\": \"Remote work often increases productivity but has notable caveats.\",\n  \"reasoning\": \"The evidence leans towards remote work increasing productivity, with a prominent Stanford study showing a significant increase. However, there are important counterpoints such as decreased collaboration and work-life boundary difficulties, making it less conclusive across all scenarios.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"Stanford study (2023)\",\n      \"supports\": \"yes\",\n      \"explanation\": \"The study indicates a 13% increase in productivity among remote workers, strongly supporting the claim.\"\n    },\n    {\n      \"factor\": \"Reduced commute time\",\n      \"supports\": \"yes\",\n      \"explanation\": \"Less time commuting potentially allows for more productive work hours.\"\n    },\n    {\n      \"factor\": \"Microsoft study (2022)\",\n      \"supports\": \"no\",\n      \"explanation\": \"Reports a decrease in collaboration and innovation, suggesting downsides to productivity.\"\n    },\n    {\n      \"factor\": \"Work/life boundaries\",\n      \"supports\": \"no\",\n      \"explanation\": \"Some workers find it difficult to separate work and personal life, potentially reducing productivity.\"\n    },\n    {\n      \"factor\": \"Industry and job type variation\",\n      \"supports\": \"neutral\",\n      \"explanation\": \"The impact of remote work varies across different industries and job roles.\"\n    }\n  ]\n}",
          "tokenUsage": {
            "cached": 886,
            "total": 886
          },
          "cached": true,
          "latencyMs": 3501,
          "finishReason": "stop",
          "cost": 0.00451,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 0.6666666666666666,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "Remote work increases productivity",
            "evidence": "[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "mixed"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 2,
        "vars": {
          "claim": "Remote work increases productivity",
          "evidence": "[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0002418,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "mixed"
              }
            }
          ]
        },
        "id": "441f050b-25ee-4fc3-809a-37fc3e41b5d5",
        "latencyMs": 4653,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Remote work increases productivity\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 2,
        "provider": {
          "id": "openai:gpt-4o-mini",
          "label": "GPT-4o Mini"
        },
        "response": {
          "output": "{\n  \"answer\": 56,\n  \"ratingConfirmation\": \"mixed\",\n  \"shortAnswer\": \"The claim about remote work increasing productivity has valid support and notable counter-evidence.\",\n  \"reasoning\": \"While there is strong support for increased productivity from the Stanford study and the reduction of commute times, the counter-evidence from Microsoft regarding decreased collaboration and innovation, along with challenges in work-life balance, suggests that the effects of remote work are not universally positive. The mixed evidence leads to a conclusion that the claim is neither strongly supported nor outright rejected.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"Stanford study productivity increase\",\n      \"supports\": \"yes\",\n      \"explanation\": \"The study provides a strong positive statistic demonstrating productivity gains from remote work.\"\n    },\n    {\n      \"factor\": \"Effect on collaboration and innovation\",\n      \"supports\": \"no\",\n      \"explanation\": \"The Microsoft study indicates that remote work may hinder important aspects of team dynamics and innovation.\"\n    },\n    {\n      \"factor\": \"Individual work/life balance challenges\",\n      \"supports\": \"no\",\n      \"explanation\": \"Reports of difficulties in separating work and personal life add complexity and detract from the claim's validity.\"\n    }\n  ]\n}",
          "tokenUsage": {
            "cached": 838,
            "total": 838
          },
          "cached": true,
          "latencyMs": 4653,
          "finishReason": "stop",
          "cost": 0.0002418,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "vars": {
            "claim": "Remote work increases productivity",
            "evidence": "[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "mixed"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 2,
        "vars": {
          "claim": "Remote work increases productivity",
          "evidence": "[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0.005856,
        "error": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
        "gradingResult": {
          "pass": false,
          "score": 0.3333333333333333,
          "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to be valid JSON",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_refuted"
              }
            }
          ]
        },
        "id": "2b8944a5-053c-489d-acdd-eda54dd06acd",
        "latencyMs": 12,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"The Great Wall of China is visible from the Moon\"\n\n## EVIDENCE PROVIDED\n[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 1,
        "provider": {
          "id": "anthropic:claude-sonnet-4-20250514",
          "label": "Claude Sonnet"
        },
        "response": {
          "output": "```json\n{\n\"answer\": 5,\n\"ratingConfirmation\": \"claim_refuted\",\n\"shortAnswer\": \"The Great Wall of China is definitively not visible from the Moon, as confirmed by NASA astronauts and basic physics.\",\n\"reasoning\": \"All provided evidence directly contradicts this claim. NASA astronauts have explicitly confirmed the wall cannot be seen from space, the wall's width of approximately 6 meters is far too narrow to be visible from the Moon's distance of 384,400 kilometers, and the human eye's resolution limits make this physically impossible.\",\n\"keyFactors\": [\n{\n\"factor\": \"NASA astronaut testimony\",\n\"supports\": \"no\",\n\"explanation\": \"Direct confirmation from space travelers that the wall is not visible from space\"\n},\n{\n\"factor\": \"Physical dimensions\",\n\"supports\": \"no\", \n\"explanation\": \"At ~6m wide, the wall is far too narrow to be seen across 384,400 km distance\"\n},\n{\n\"factor\": \"Human vision limitations\",\n\"supports\": \"no\",\n\"explanation\": \"Human eye resolution physically cannot detect objects this small at such distances\"\n}\n]\n}\n```",
          "tokenUsage": {
            "cached": 872,
            "total": 872
          },
          "finishReason": "stop",
          "cost": 0.005856,
          "cached": true
        },
        "score": 0.3333333333333333,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "The Great Wall of China is visible from the Moon",
            "evidence": "[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_refuted"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 3,
        "vars": {
          "claim": "The Great Wall of China is visible from the Moon",
          "evidence": "[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0013496,
        "error": "Custom function returned false\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
        "gradingResult": {
          "pass": false,
          "score": 0.6666666666666666,
          "reason": "Custom function returned false\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function returned false\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_refuted"
              }
            }
          ]
        },
        "id": "b7408d56-f9f3-405d-a201-68b3cd50ae7f",
        "latencyMs": 10,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"The Great Wall of China is visible from the Moon\"\n\n## EVIDENCE PROVIDED\n[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 0,
        "provider": {
          "id": "anthropic:claude-3-5-haiku-20241022",
          "label": "Claude Haiku"
        },
        "response": {
          "output": "{\n\"answer\": 15,\n\"ratingConfirmation\": \"claim_refuted\",\n\"shortAnswer\": \"The Great Wall of China is NOT visible from the Moon.\",\n\"reasoning\": \"Multiple scientific sources confirm the wall is too narrow and distant to be seen from lunar distances. NASA astronauts have explicitly stated the claim is a myth.\",\n\"keyFactors\": [\n{\n\"factor\": \"Wall Width\",\n\"supports\": \"no\",\n\"explanation\": \"At only 6 meters wide, the wall is too narrow to be distinguished from space\"\n},\n{\n\"factor\": \"Distance Limitation\",\n\"supports\": \"no\", \n\"explanation\": \"The 384,400 km distance to the Moon makes visual identification impossible\"\n},\n{\n\"factor\": \"Human Eye Resolution\",\n\"supports\": \"no\",\n\"explanation\": \"Physical limitations of human visual perception prevent seeing such a small structure from such extreme distance\"\n}\n]\n}",
          "tokenUsage": {
            "cached": 819,
            "total": 819
          },
          "finishReason": "stop",
          "cost": 0.0013496,
          "cached": true
        },
        "score": 0.6666666666666666,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "The Great Wall of China is visible from the Moon",
            "evidence": "[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_refuted"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 3,
        "vars": {
          "claim": "The Great Wall of China is visible from the Moon",
          "evidence": "[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0038775000000000007,
        "error": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
        "gradingResult": {
          "pass": false,
          "score": 0.3333333333333333,
          "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to be valid JSON",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_refuted"
              }
            }
          ]
        },
        "id": "0765084b-04ca-4025-847c-001dbe7d3b4b",
        "latencyMs": 3963,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"The Great Wall of China is visible from the Moon\"\n\n## EVIDENCE PROVIDED\n[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 3,
        "provider": {
          "id": "openai:gpt-4o",
          "label": "GPT-4o"
        },
        "response": {
          "output": "```json\n{\n  \"answer\": 0,\n  \"ratingConfirmation\": \"claim_refuted\",\n  \"shortAnswer\": \"The claim that the Great Wall of China is visible from the Moon is false.\",\n  \"reasoning\": \"The claim is directly contradicted by evidence from NASA astronauts and scientific explanations regarding its size and the limitations of human vision at such a distance. These factors overwhelmingly indicate that it is impossible to see the Wall from the Moon.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"NASA astronauts' confirmation\",\n      \"supports\": \"no\",\n      \"explanation\": \"NASA astronauts have confirmed that the Great Wall is not visible from space.\"\n    },\n    {\n      \"factor\": \"Size and distance\",\n      \"supports\": \"no\",\n      \"explanation\": \"At around 6 meters wide, the Wall is far too narrow to be visible from the Moon, which is approximately 384,400 km away.\"\n    },\n    {\n      \"factor\": \"Human eye resolution\",\n      \"supports\": \"no\",\n      \"explanation\": \"The resolution limit of the human eye makes it impossible to see such a narrow structure from that distance.\"\n    }\n  ]\n}\n```",
          "tokenUsage": {
            "cached": 813,
            "total": 813
          },
          "cached": true,
          "latencyMs": 3963,
          "finishReason": "stop",
          "cost": 0.0038775000000000007,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 0.3333333333333333,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "The Great Wall of China is visible from the Moon",
            "evidence": "[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_refuted"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 3,
        "vars": {
          "claim": "The Great Wall of China is visible from the Moon",
          "evidence": "[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.00022484999999999996,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
                "metric": "verdict_accuracy"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "contains",
                "value": "claim_refuted"
              }
            }
          ]
        },
        "id": "8eeb05b2-5d87-4faa-9721-05b9d29010b5",
        "latencyMs": 3880,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"The Great Wall of China is visible from the Moon\"\n\n## EVIDENCE PROVIDED\n[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 2,
        "provider": {
          "id": "openai:gpt-4o-mini",
          "label": "GPT-4o Mini"
        },
        "response": {
          "output": "{\n  \"answer\": 0,\n  \"ratingConfirmation\": \"claim_refuted\",\n  \"shortAnswer\": \"The claim is false.\",\n  \"reasoning\": \"Evidence from NASA astronauts and studies indicate that the Great Wall of China is not visible from space, including the Moon, due to its narrow width and the limitations of human vision. The wall's dimensions make it impossible to be seen from such a great distance.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"Visibility from Space\",\n      \"supports\": \"no\",\n      \"explanation\": \"NASA confirms that the Great Wall is not visible from space, contradicting the claim.\"\n    },\n    {\n      \"factor\": \"Width of the Wall\",\n      \"supports\": \"no\",\n      \"explanation\": \"At approximately 6 meters wide, the wall is too narrow to be distinguishable from 384,400 km away.\"\n    },\n    {\n      \"factor\": \"Human Eye Resolution\",\n      \"supports\": \"no\",\n      \"explanation\": \"The limit of human eye resolution makes it physically impossible to see the wall from the Moon.\"\n    }\n  ]\n}",
          "tokenUsage": {
            "cached": 800,
            "total": 800
          },
          "cached": true,
          "latencyMs": 3880,
          "finishReason": "stop",
          "cost": 0.00022484999999999996,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "vars": {
            "claim": "The Great Wall of China is visible from the Moon",
            "evidence": "[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
              "metric": "verdict_accuracy"
            },
            {
              "type": "contains",
              "value": "claim_refuted"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 3,
        "vars": {
          "claim": "The Great Wall of China is visible from the Moon",
          "evidence": "[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0.006564,
        "error": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
        "gradingResult": {
          "pass": false,
          "score": 0,
          "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to be valid JSON",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
                "metric": "verdict_accuracy"
              }
            }
          ]
        },
        "id": "764fbb8d-cedb-4a6b-a2c2-0bd7157a1106",
        "latencyMs": 15,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Coffee consumption is associated with reduced risk of type 2 diabetes\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 1,
        "provider": {
          "id": "anthropic:claude-sonnet-4-20250514",
          "label": "Claude Sonnet"
        },
        "response": {
          "output": "```json\n{\n\"answer\": 75,\n\"ratingConfirmation\": \"claim_supported\",\n\"shortAnswer\": \"Coffee consumption is associated with reduced type 2 diabetes risk, supported by strong meta-analysis evidence and identified biological mechanisms.\",\n\"reasoning\": \"The claim is well-supported by robust evidence including a large meta-analysis of 28 studies showing a 6% risk reduction per cup daily, confirmation from Harvard School of Public Health, and identified biological mechanisms. While the neutral evidence correctly notes that association doesn't prove causation and effects may vary by preparation, these don't contradict the core claim about association.\",\n\"keyFactors\": [\n{\n\"factor\": \"Meta-analysis evidence\",\n\"supports\": \"yes\",\n\"explanation\": \"Large-scale analysis of 28 studies provides strong statistical support for the association\"\n},\n{\n\"factor\": \"Institutional confirmation\",\n\"supports\": \"yes\", \n\"explanation\": \"Harvard School of Public Health backing adds credibility to the findings\"\n},\n{\n\"factor\": \"Biological mechanism\",\n\"supports\": \"yes\",\n\"explanation\": \"Identified mechanisms through chlorogenic acid and magnesium provide plausible explanation\"\n},\n{\n\"factor\": \"Causation vs correlation\",\n\"supports\": \"neutral\",\n\"explanation\": \"Important caveat but doesn't negate the association claim itself\"\n}\n]\n}\n```",
          "tokenUsage": {
            "cached": 928,
            "total": 928
          },
          "finishReason": "stop",
          "cost": 0.006564,
          "cached": true
        },
        "score": 0,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "Coffee consumption is associated with reduced risk of type 2 diabetes",
            "evidence": "[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
              "metric": "verdict_accuracy"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 4,
        "vars": {
          "claim": "Coffee consumption is associated with reduced risk of type 2 diabetes",
          "evidence": "[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0052125,
        "error": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
        "gradingResult": {
          "pass": false,
          "score": 0,
          "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
          "namedScores": {
            "verdict_accuracy": 0
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": false,
              "score": 0,
              "reason": "Expected output to be valid JSON",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": false,
              "score": 0,
              "reason": "Custom function threw error: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\nStack Trace: SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at eval (eval at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:34), <anonymous>:3:19)\n    at handleJavascript (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:1328:92)\n    at runAssertion (file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2867:24)\n    at file:///C:/DEV/FactHarbor/node_modules/promptfoo/dist/src/evaluator-x4ndK5Pa.js:2910:24\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:151:38\n    at replenish (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:447:21)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:452:13\n    at Object.eachOfLimit (C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:478:36)\n    at C:\\DEV\\FactHarbor\\node_modules\\async\\dist\\async.js:220:25\nconst data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
                "metric": "verdict_accuracy"
              }
            }
          ]
        },
        "id": "f334717c-ca64-45f6-bd8a-d453f184741d",
        "latencyMs": 5026,
        "namedScores": {
          "verdict_accuracy": 0
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Coffee consumption is associated with reduced risk of type 2 diabetes\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 3,
        "provider": {
          "id": "openai:gpt-4o",
          "label": "GPT-4o"
        },
        "response": {
          "output": "```json\n{\n  \"answer\": 72,\n  \"ratingConfirmation\": \"claim_supported\",\n  \"shortAnswer\": \"The claim is mostly true, as supported by significant research linking coffee consumption to a reduced risk of type 2 diabetes.\",\n  \"reasoning\": \"The claim is supported by a meta-analysis of 28 studies and confirmation from the Harvard School of Public Health, highlighting a consistent association between coffee consumption and reduced risk of type 2 diabetes. While mechanisms like chlorogenic acid and magnesium are suggested, the association does not equate to causation, and preparation methods could influence outcomes.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"Meta-analysis of 28 studies\",\n      \"supports\": \"yes\",\n      \"explanation\": \"The meta-analysis showed a 6% reduced risk per cup of coffee per day, strongly supporting the claim.\"\n    },\n    {\n      \"factor\": \"Harvard School of Public Health confirmation\",\n      \"supports\": \"yes\",\n      \"explanation\": \"This reputable institution has confirmed the association, adding credibility to the claim.\"\n    },\n    {\n      \"factor\": \"Mechanism linked to chlorogenic acid and magnesium\",\n      \"supports\": \"yes\",\n      \"explanation\": \"These components in coffee are proposed to contribute to lower risk, offering a biochemical basis for the claim.\"\n    },\n    {\n      \"factor\": \"Association does not prove causation\",\n      \"supports\": \"neutral\",\n      \"explanation\": \"While a correlation exists, it does not definitively establish causation, which is a limitation.\"\n    },\n    {\n      \"factor\": \"Effects may vary based on preparation method\",\n      \"supports\": \"neutral\",\n      \"explanation\": \"Different preparation methods might alter the effects of coffee, but this does not directly dispute the claim.\"\n    }\n  ]\n}\n```",
          "tokenUsage": {
            "cached": 957,
            "total": 957
          },
          "cached": true,
          "latencyMs": 5026,
          "finishReason": "stop",
          "cost": 0.0052125,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 0,
        "success": false,
        "testCase": {
          "vars": {
            "claim": "Coffee consumption is associated with reduced risk of type 2 diabetes",
            "evidence": "[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
              "metric": "verdict_accuracy"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 4,
        "vars": {
          "claim": "Coffee consumption is associated with reduced risk of type 2 diabetes",
          "evidence": "[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 1
      },
      {
        "cost": 0.0015383999999999999,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
                "metric": "verdict_accuracy"
              }
            }
          ]
        },
        "id": "43b69e4d-b32b-4896-af2f-1c0e2459d468",
        "latencyMs": 13,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Coffee consumption is associated with reduced risk of type 2 diabetes\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 0,
        "provider": {
          "id": "anthropic:claude-3-5-haiku-20241022",
          "label": "Claude Haiku"
        },
        "response": {
          "output": "{\n\"answer\": 78,\n\"ratingConfirmation\": \"claim_supported\",\n\"shortAnswer\": \"Coffee consumption is associated with a modest reduced risk of type 2 diabetes.\",\n\"reasoning\": \"Multiple scientific studies and a meta-analysis provide evidence supporting a link between coffee consumption and reduced type 2 diabetes risk. The mechanism appears to be related to specific compounds in coffee like chlorogenic acid and magnesium.\",\n\"keyFactors\": [\n{\n\"factor\": \"Meta-analysis Evidence\",\n\"supports\": \"yes\",\n\"explanation\": \"28 studies showed 6% reduced risk per cup of coffee per day\"\n},\n{\n\"factor\": \"Scientific Source\",\n\"supports\": \"yes\", \n\"explanation\": \"Harvard School of Public Health confirms the association\"\n},\n{\n\"factor\": \"Biological Mechanism\",\n\"supports\": \"yes\",\n\"explanation\": \"Chlorogenic acid and magnesium content may contribute to diabetes risk reduction\"\n},\n{\n\"factor\": \"Causation Uncertainty\",\n\"supports\": \"neutral\",\n\"explanation\": \"Association does not definitively prove direct causation\"\n}\n]\n}",
          "tokenUsage": {
            "cached": 875,
            "total": 875
          },
          "finishReason": "stop",
          "cost": 0.0015383999999999999,
          "cached": true
        },
        "score": 1,
        "success": true,
        "testCase": {
          "vars": {
            "claim": "Coffee consumption is associated with reduced risk of type 2 diabetes",
            "evidence": "[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
              "metric": "verdict_accuracy"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 4,
        "vars": {
          "claim": "Coffee consumption is associated with reduced risk of type 2 diabetes",
          "evidence": "[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0.00027435,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {
            "verdict_accuracy": 1
          },
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
                "metric": "verdict_accuracy"
              }
            }
          ]
        },
        "id": "2e3d872d-e6ca-414a-8074-e2109ea7e843",
        "latencyMs": 5799,
        "namedScores": {
          "verdict_accuracy": 1
        },
        "prompt": {
          "raw": "You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is .\n\n## CLAIM TO EVALUATE\n\"Coffee consumption is associated with reduced risk of type 2 diabetes\"\n\n## EVIDENCE PROVIDED\n[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "label": "apps\\web\\prompts\\promptfoo\\verdict-prompt.txt: You are FactHarbor's verdict generator. Rate the truthfulness of claims based on evidence.\n\n## CURRENT DATE\nToday is {{currentDate}}.\n\n## CLAIM TO EVALUATE\n\"{{claim}}\"\n\n## EVIDENCE PROVIDED\n{{evidence}}\n\n## VERDICT SCALE (7-Point Symmetric)\n\nRate the claim's truthfulness as a percentage (0-100):\n- **86-100%**: TRUE - Strong support, no credible counter-evidence\n- **72-85%**: MOSTLY TRUE - Predominantly correct, minor caveats\n- **58-71%**: LEANING TRUE - More support than contradiction\n- **43-57%**: MIXED/UNVERIFIED - Evidence on both sides or insufficient\n- **29-42%**: LEANING FALSE - More counter-evidence than support\n- **15-28%**: MOSTLY FALSE - Predominantly incorrect\n- **0-14%**: FALSE - Direct contradiction, claim is wrong\n\n## EVIDENCE LABELS\n- **[SUPPORTING]**: Supports the claim being TRUE\n- **[COUNTER-EVIDENCE]**: Contradicts the claim (supports OPPOSITE)\n- **[NEUTRAL]**: Contextual information\n\n## RATING DIRECTION (CRITICAL)\nRate whether THE CLAIM AS STATED is true based on evidence.\n- Majority [COUNTER-EVIDENCE] → Verdict should be LOW (0-42%)\n- Majority [SUPPORTING] → Verdict should be HIGH (58-100%)\n- Balanced evidence → Verdict should be MIDDLE (43-57%)\n\n## OUTPUT FORMAT (JSON)\nRespond with valid JSON only:\n{\n  \"answer\": <number 0-100>,\n  \"ratingConfirmation\": \"<claim_supported|claim_refuted|mixed>\",\n  \"shortAnswer\": \"<1 sentence summary>\",\n  \"reasoning\": \"<2-3 sentences explaining the verdict>\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"<factor name>\",\n      \"supports\": \"<yes|no|neutral>\",\n      \"explanation\": \"<brief explanation>\"\n    }\n  ]\n}\n\n## VALIDATION\nYour ratingConfirmation MUST match your verdict:\n- \"claim_supported\" → answer should be 58-100\n- \"claim_refuted\" → answer should be 0-42\n- \"mixed\" → answer should be 43-57",
          "config": {
            "timeout": 60000
          }
        },
        "promptId": "b3196572c02fb40ec908f48b9cdd167799ee97b1ac060314de390fc20c09c6af",
        "promptIdx": 2,
        "provider": {
          "id": "openai:gpt-4o-mini",
          "label": "GPT-4o Mini"
        },
        "response": {
          "output": "{\n  \"answer\": 85,\n  \"ratingConfirmation\": \"claim_supported\",\n  \"shortAnswer\": \"The claim is mostly true, with a strong association between coffee consumption and reduced risk of type 2 diabetes.\",\n  \"reasoning\": \"The supporting evidence includes a meta-analysis that shows a clear association between coffee consumption and a reduced risk of type 2 diabetes, alongside confirmation from a reputable public health institution. While some caveats exist regarding causation and variability based on coffee preparation, they do not significantly undermine the overall strong association indicated by the evidence.\",\n  \"keyFactors\": [\n    {\n      \"factor\": \"Meta-analysis results\",\n      \"supports\": \"yes\",\n      \"explanation\": \"The analysis indicates a 6% reduction in risk per cup of coffee consumed daily.\"\n    },\n    {\n      \"factor\": \"Harvard School of Public Health endorsement\",\n      \"supports\": \"yes\",\n      \"explanation\": \"Their confirmation adds credibility to the association between coffee consumption and diabetes risk reduction.\"\n    },\n    {\n      \"factor\": \"Causation vs. correlation\",\n      \"supports\": \"neutral\",\n      \"explanation\": \"While there is a noted association, it is important to recognize that this does not prove direct causation.\"\n    },\n    {\n      \"factor\": \"Preparation method variability\",\n      \"supports\": \"neutral\",\n      \"explanation\": \"The effects of coffee on diabetes risk may vary based on how it is prepared, but this does not negate the overall association.\"\n    }\n  ]\n}",
          "tokenUsage": {
            "cached": 893,
            "total": 893
          },
          "cached": true,
          "latencyMs": 5799,
          "finishReason": "stop",
          "cost": 0.00027435,
          "guardrails": {
            "flagged": false
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "vars": {
            "claim": "Coffee consumption is associated with reduced risk of type 2 diabetes",
            "evidence": "[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
              "metric": "verdict_accuracy"
            }
          ],
          "options": {
            "timeout": 60000
          },
          "metadata": {}
        },
        "testIdx": 4,
        "vars": {
          "claim": "Coffee consumption is associated with reduced risk of type 2 diabetes",
          "evidence": "[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      }
    ],
    "stats": {
      "successes": 8,
      "failures": 12,
      "errors": 0,
      "tokenUsage": {
        "prompt": 0,
        "completion": 0,
        "cached": 17130,
        "total": 17130,
        "numRequests": 20,
        "completionDetails": {
          "reasoning": 0,
          "acceptedPrediction": 0,
          "rejectedPrediction": 0
        },
        "assertions": {
          "total": 0,
          "prompt": 0,
          "completion": 0,
          "cached": 0,
          "numRequests": 0,
          "completionDetails": {
            "reasoning": 0,
            "acceptedPrediction": 0,
            "rejectedPrediction": 0
          }
        }
      },
      "durationMs": 298
    }
  },
  "config": {
    "tags": {},
    "description": "FactHarbor Verdict Generation Evaluation",
    "prompts": [
      "file://C:\\DEV\\FactHarbor\\apps\\web\\prompts\\promptfoo\\verdict-prompt.txt"
    ],
    "providers": [
      {
        "id": "anthropic:claude-3-5-haiku-20241022",
        "label": "Claude Haiku",
        "config": {
          "temperature": 0
        }
      },
      {
        "id": "anthropic:claude-sonnet-4-20250514",
        "label": "Claude Sonnet",
        "config": {
          "temperature": 0
        }
      },
      {
        "id": "openai:gpt-4o-mini",
        "label": "GPT-4o Mini",
        "config": {
          "temperature": 0
        }
      },
      {
        "id": "openai:gpt-4o",
        "label": "GPT-4o",
        "config": {
          "temperature": 0
        }
      }
    ],
    "tests": [
      {
        "vars": {
          "claim": "The Earth is approximately 4.5 billion years old",
          "evidence": "[SUPPORTING] Scientific consensus based on radiometric dating of meteorites\nand Earth rocks establishes Earth's age at 4.54 billion years.\n[SUPPORTING] Multiple independent dating methods (uranium-lead, potassium-argon)\nconverge on this age estimate.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const data = JSON.parse(output); data.answer >= 85 && data.answer <= 100",
            "metric": "verdict_accuracy"
          },
          {
            "type": "contains",
            "value": "claim_supported"
          }
        ]
      },
      {
        "vars": {
          "claim": "Hydrogen cars are more efficient than electric cars",
          "evidence": "[COUNTER-EVIDENCE] Well-to-wheel efficiency of hydrogen fuel cell vehicles: 25-35%\n[COUNTER-EVIDENCE] Well-to-wheel efficiency of battery electric vehicles: 70-90%\n[COUNTER-EVIDENCE] Energy losses in hydrogen production, compression, and fuel cell conversion\n[SUPPORTING] Tank-to-wheel efficiency of fuel cells can reach 60%\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 35",
            "metric": "verdict_accuracy"
          },
          {
            "type": "contains",
            "value": "claim_refuted"
          }
        ]
      },
      {
        "vars": {
          "claim": "Remote work increases productivity",
          "evidence": "[SUPPORTING] Stanford study (2023): 13% productivity increase for remote workers\n[SUPPORTING] Reduced commute time allows more work hours\n[COUNTER-EVIDENCE] Microsoft study (2022): Collaboration and innovation decreased\n[COUNTER-EVIDENCE] Some workers report difficulty separating work/life boundaries\n[NEUTRAL] Effects vary significantly by industry and job type\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const data = JSON.parse(output); data.answer >= 35 && data.answer <= 65",
            "metric": "verdict_accuracy"
          },
          {
            "type": "contains",
            "value": "mixed"
          }
        ]
      },
      {
        "vars": {
          "claim": "The Great Wall of China is visible from the Moon",
          "evidence": "[COUNTER-EVIDENCE] NASA astronauts confirm the wall is not visible from space\n[COUNTER-EVIDENCE] At ~6m wide, the wall is far too narrow to be seen from 384,400 km away\n[COUNTER-EVIDENCE] Human eye resolution limit makes this physically impossible\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const data = JSON.parse(output); data.answer >= 0 && data.answer <= 14",
            "metric": "verdict_accuracy"
          },
          {
            "type": "contains",
            "value": "claim_refuted"
          }
        ]
      },
      {
        "vars": {
          "claim": "Coffee consumption is associated with reduced risk of type 2 diabetes",
          "evidence": "[SUPPORTING] Meta-analysis of 28 studies shows 6% reduced risk per cup/day\n[SUPPORTING] Harvard School of Public Health confirms association\n[SUPPORTING] Mechanism linked to chlorogenic acid and magnesium content\n[NEUTRAL] Association does not prove causation\n[NEUTRAL] Effects may vary based on preparation method\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const data = JSON.parse(output); data.answer >= 65 && data.answer <= 90",
            "metric": "verdict_accuracy"
          }
        ]
      }
    ],
    "scenarios": [],
    "env": {},
    "sharing": false,
    "defaultTest": {
      "options": {
        "timeout": 60000
      },
      "vars": {},
      "assert": [],
      "metadata": {}
    },
    "outputPath": [
      "./prompts/promptfoo-results/verdict.json"
    ],
    "extensions": [],
    "metadata": {},
    "evaluateOptions": {}
  },
  "shareableUrl": null,
  "metadata": {
    "promptfooVersion": "0.120.17",
    "nodeVersion": "v24.12.0",
    "platform": "win32",
    "arch": "x64",
    "exportedAt": "2026-01-26T06:23:08.582Z",
    "evaluationCreatedAt": "2026-01-26T06:23:07.838Z"
  }
}