---
description: FactHarbor core project rules — applies to all files
alwaysApply: true
---

# FactHarbor — Core Rules

Read `/AGENTS.md` for full project rules, architecture, and domain knowledge.

## Project Overview
POC with two apps:
- `apps/api` — ASP.NET Core API (.NET 8, SQLite)
- `apps/web` — Next.js app (UI + analysis pipeline)
- `tools/vscode-xwiki-preview` — VS Code extension for XWiki previews

## Critical Terminology (ALWAYS follow)
- **AnalysisContext** = Top-level analytical frame. NEVER call this "scope".
- **EvidenceScope** = Per-evidence source metadata. NEVER call this "context".
- **EvidenceItem** = Extracted evidence from a source. NEVER call these "facts".
- **probativeValue** = Quality assessment (high/medium/low).
- **No hardcoded keywords**: Code, prompts, logic must be generic for ANY topic.
- **Input neutrality**: "Was X fair?" must yield same analysis as "X was fair" (≤4% tolerance).

## Safety
- Do not access production systems or real customer data.
- Do not change secrets/credentials or commit them.
- Avoid destructive git commands unless explicitly asked.
- Do not overwrite `apps/api/factharbor.db` unless asked.

## Conventions
- Commit messages: conventional commits `type(scope): description`.
- Platform: Windows. Use PowerShell-compatible commands.
- Solo developer + AI agents. Direct push to main is normal.

## Agent Handoff
If another tool would be better for the task, say so:
- Claude Code (Opus): complex architecture, deep reasoning, plan mode
- GitHub Copilot: inline code completions
- Cline: autonomous multi-step workflows
See `/AGENTS.md` Agent Handoff Protocol for full reference.
